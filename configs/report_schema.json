{
  "type": "object",
  "required": [
    "timestamp",
    "image",
    "decision",
    "confidence",
    "defect",
    "summary",
    "impact",
    "recommendation",
    "artifacts"
  ],
  "properties": {
    "timestamp": {
      "type": "string"
    },
    "image": {
      "type": "string"
    },
    "decision": {
      "type": "string",
      "enum": [
        "normal",
        "anomaly"
      ]
    },
    "confidence": {
      "type": "number"
    },
    "defect": {
      "type": "object",
      "required": [
        "location",
        "area_ratio",
        "shape",
        "severity"
      ],
      "properties": {
        "location": {
          "type": "string"
        },
        "area_ratio": {
          "type": "number"
        },
        "shape": {
          "type": "string"
        },
        "severity": {
          "type": "string",
          "enum": [
            "low",
            "medium",
            "high"
          ]
        }
      }
    },
    "summary": {
      "type": "string"
    },
    "impact": {
      "type": "string"
    },
    "recommendation": {
      "type": "string"
    },
    "artifacts": {
      "type": "object",
      "required": [
        "overlay_path",
        "heatmap_path"
      ],
      "properties": {
        "overlay_path": {
          "type": "string"
        },
        "heatmap_path": {
          "type": "string"
        }
      }
    }
  }
}